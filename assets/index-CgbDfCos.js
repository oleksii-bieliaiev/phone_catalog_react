import{r as c,G as x,c as y,i as u,j as t,I as h,L as P,a as v}from"./index-DbD7ckwr.js";import{B as k}from"./ButtonBack-AkFQuNRs.js";const j=c.memo(({cartProduct:n})=>{const{id:s,product:m,quantity:a}=n,{name:i,price:d,image:_,category:p}=m,{updateQuantity:r,theme:e}=c.useContext(x),o=c.useMemo(()=>d*a,[d,a]),l=a===1,g=c.useCallback(()=>{r(s,0)},[s,r]),C=c.useCallback(()=>{a>1&&r(s,a-1)},[s,a,r]),N=c.useCallback(()=>{r(s,a+1)},[s,a,r]),I=y("cartItem__button",{"cartItem__button--disabled":l}),b=l?u.minus__disabled[e]:u.minus[e];return t.jsxs("div",{className:"cartItem",children:[t.jsxs("div",{className:"cartItem__wrapperTop",children:[t.jsx("button",{className:"cartItem__icon-close",onClick:g,"aria-label":"Remove item from cart",children:t.jsx(h,{icon:u.close__disabled[e]})}),t.jsxs(P,{to:`/${p}/${s}`,className:"cartItem__link",children:[t.jsx("img",{src:_,alt:`${i} product image`,className:"cartItem__image"}),t.jsx("div",{className:"cartItem__title",children:i})]})]}),t.jsxs("div",{className:"cartItem__wrapperBottom",children:[t.jsxs("div",{className:"cartItem__counter-container",children:[t.jsx("button",{className:I,onClick:C,disabled:l,"aria-label":"Decrease quantity",children:t.jsx(h,{icon:b})}),t.jsx("div",{className:"cartItem__counter","aria-label":`Quantity: ${a}`,children:a}),t.jsx("button",{className:"cartItem__button",onClick:N,"aria-label":"Increase quantity",children:t.jsx(h,{icon:u.plus[e]})})]}),t.jsxs("div",{className:"cartItem__price","aria-label":`Total price: $${o}`,children:["$",o]})]})]})});j.displayName="CartItem";const T=()=>{const{cart:n,clearShoppingCart:s}=c.useContext(x),{pathname:m}=v(),a=c.useMemo(()=>{const e=m.slice(1);return e.charAt(0).toUpperCase()+e.slice(1)},[m]),i=c.useMemo(()=>n.reduce((e,{quantity:o,product:{price:l}})=>({totalPrice:e.totalPrice+o*l,totalItems:e.totalItems+o}),{totalPrice:0,totalItems:0}),[n]),d=c.useCallback(()=>{window.confirm("Checkout doesnâ€™t exist yet. Care to wipe the cart and start your imaginary shopping over?")&&s()},[s]),_=n.length===0,p=()=>t.jsxs("div",{className:"cartPage__empty-content",children:[t.jsx("span",{className:"cartPage__empty-content-title",children:"Your cart is empty"}),t.jsx("img",{src:"img/cart-is-empty.png",alt:"Empty shopping cart",className:"cartPage__image-empty"})]}),r=()=>t.jsxs("div",{className:"cartPage__content",children:[t.jsx("div",{className:"cartPage__content-container",children:n.map(e=>t.jsx(j,{cartProduct:e},e.id))}),t.jsxs("div",{className:"cartPage__total",children:[t.jsxs("div",{className:"cartPage__total-count",children:["$",i.totalPrice]}),t.jsxs("div",{className:"cartPage__total-title",children:["Total for ",i.totalItems," items"]}),t.jsx("div",{className:"cartPage__line"}),t.jsx("button",{className:"cartPage__button-checkout",onClick:d,children:"Checkout"})]})]});return t.jsxs("div",{className:"cartPage",children:[t.jsx(k,{}),t.jsx("h1",{className:"cartPage__title",children:a}),_?p():r()]})};export{T as ShoppingCartPage};
